# Beefy 的安全实践

_"不要相信，要验证。"_

## Beefy 的新农场

一个新农场要上 Beefy 的金库之前，此项目必须通过一套严格的安全检验。

* 合约已在区块浏览器中进行验证;
* 有足够的流动性用于交换农场代币奖励;
* Rug/迁移器功能被完全移除或拥有足够长的时间锁功能;
* 如果农场代币对想上 Beefy 金库, 此代币的发行率必须是有时间锁定的;
* 所有代理 \(Proxy\) 实施的更改必须有时间锁定。

## Beefy 的新金库

我们的策略师在每个新的金库上线前都会对其进行人工测试。这是为了确保金库按照预期工作，用户的资金在 Beefy 这里始终是安全的。

1\) 存入少量的资产; 2\) 提出全部; 3\) 再次存入，等待1分钟，检查 `callReward()` 是否为0; 4\) 收获 \(Harvest\) 此策略; 5\) 紧急暂停（Panic）此策略; 6\) 暂停时提取50%，以确保用户能够离开; 7\) 尝试存款，应该会弹出一个错误，但不要但不要把存款送出去; 8\) 取消暂停策略; 9\) 存入之前提取的50%，并再次收获。

## 策略升级

有时，Beefy 策略家会提出新的创新策略，或者收益农场会改变他们的奖励合约。 在这种情况下，Beefy 金库可以灵活地适应这些变化，并且能够交换策略，因此用户不必将资金转移到新的金库：这是由策略升级自动完成的。新策略被部署在一个虚拟金库中，并完成上述所有的手动测试。 通过检查后，将新策略分配给金库。金库通过多重签名钱包提出新策略，并且必须等到时间锁定延迟过后，金库才会使用新策略。

## 紧急暂停

有时潜在的收益农场可能会出现问题，因此快速反应是非常重要的。 Beefy 的策略有一个允许紧急暂停 \(Panic\) 的保管人 \(Keeper\)，它将质押的资金从农场撤回到策略合约中，并取消所有的配额 \(allowances\)。 这确保了 Beefy 质押者始终可以在紧急情况下提取资金。

